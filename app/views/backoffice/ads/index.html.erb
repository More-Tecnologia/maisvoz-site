<%= stylesheet_link_tag 'ads/index' %>
<%= stylesheet_link_tag 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css' %>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<div class="main-container-ads">
  <div class="title-page">
    <a class="back-button" href="/">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
      </svg>
    </a>
    <span><%= t(:my_advertisements) %></span>
  </div>
  <div class="container-ads">
    <% @ads.each do |ad| %>
      <div class="container-ad">
        <div class="container-title-ad">
          <span class="main-title-ad">
              <%= ad.title %>
          </span>
          <%= image_tag(ad.path, class: "img-ad") %>
        </div>
        <div class="container-counters-ad">
          <div class="container-counter">
            <span class="title-counter-ad"><%= t(:click_count) %></span>
            <span class="counter-ad"><%= ad.current_clicks %></span>
          </div>
        </div>
        <div class="container-counters-ad">
          <div class="container-counter">
            <span class="title-counter-ad"><%= t(:view_count) %></span>
            <span class="counter-ad"><%= ad.views %></span>
          </div>
        </div>
        <div class="container-link-ad">
          <input type="text" disabled value="<%= ad.link %>" class="input-link-ad">
          <div class="button-copy-ad" onclick="copyToClipboard(document.querySelector('.input-link-ad').value)">
            <i class="fa-solid fa-copy"></i>
          </div>
        </div>
        <div class="container-countries-ad">
          <div type="button" class="button-countries" data-toggle="modal" data-target="#adModal<%= ad.id %>">
            <%= t(:countries_of_operation) %>
          </div>
          <!-- Modal -->
          <div class="modal fade" id="adModal<%= ad.id %>" tabindex="-1" role="dialog" aria-labelledby="adModal<%= ad.id %>Label" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="adModal<%= ad.id %>Label"><%= t(:countries_of_operation) %></h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <% ad.country_of_operation.each do |country| %>
                    <%= country %><br>
                  <% end %>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="container-edit-ad">
          <%= link_to edit_backoffice_ad_path(ad), class: 'button-edit-ad' do %>
            <%= t(:edit) %>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
</div>

<%= javascript_include_tag 'ads/index' %>
